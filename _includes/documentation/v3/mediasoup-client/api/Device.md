## Device
{: #Device}

<section markdown="1">

A device represents an endpoint that connects to a mediasoup [Router](/documentation/v3/mediasoup/api/#Router) to send and/or receive media.

<div markdown="1" class="note">
This is the entry point for JavaScript client side applications (such as web applications).
</div>

</section>


### Dictionaries
{: #Device-dictionaries}

<section markdown="1">

#### DeviceOptions
{: #DeviceOptions .code}

<div markdown="1" class="table-wrapper L3">

Field           | Type    | Description   | Required | Default
--------------- | ------- | ------------- | -------- | ---------
`Handler`       | Class   | A class that implements the mediasoup-client handler interface that deals with the browser or device WebRTC engine. | No |

</div>

<div markdown="1" class="note">
Web applications do not need to provide any `Handler` argument into the `Device` constructor. mediasoup-client detects the underlying browser and chooses a suitable WebRTC handler depending on the browser vendor and version.
</div>

</section>


### Constructor
{: #Device-constructor}

<section markdown="1">

#### new Device(options)
{: #device-new-Device .code}

Creates a new device.

<div markdown="1" class="table-wrapper L3">

Argument  | Type    | Description | Required | Default 
--------- | ------- | ----------- | -------- | ----------
`options` | [DeviceOptions](#DeviceOptions) | Device options. | No |

</div>

> `@throws` UnsupportedError, if the current browser/device is not supported.

```javascript
let device;

try
{
  device = new mediasoup.Device();
}
catch (error)
{
  if (error.name === 'UnsupportedError')
    console.warn('browser not supported');
}
```

</section>


### Properties
{: #Device-properties}

<section markdown="1">

#### device.handlerName
{: #device-handlerName .code}

The selected handler class name.

> `@type` String, read only

```javascript
console.log(device.handlerName);
// => "Chrome75"
```

#### device.loaded
{: #device-loaded .code}

Whether the device has been loaded (see the [load()](#device-load) method).

> `@type` Boolean

#### device.rtpCapabilities
{: #device-rtpCapabilities .code}

The device RTP capabilities, generated by combining both the underlying WebRTC capabilities and the router RTP capabilities (see the [load()](#device-load) method).

> `@type` [RtpCapabilities](/documentation/v3/mediasoup/rtp-parameters-and-capabilities/#RtpCapabilities), read only
> 
> `@throws` InvalidStateError, if device not loaded

<div markdown="1" class="note">
These RTP capabilities must be given to the mediasoup router in order to consume a remote stream. Check the [Communication Between Client and Server](/documentation/v3/communication-between-client-and-server/) section for more details.
</div>

</section>


### Methods
{: #Device-methods}

<section markdown="1">

#### device.load({ routerRtpCapabilities })
{: #device-load .code}

Loads the device with the RTP capabilities of the mediasoup router. This is how the device knows about the allowed media codecs and other settings.

<div markdown="1" class="table-wrapper L3">

Argument      | Type    | Description | Required | Default 
------------- | ------- | ----------- | -------- | ----------
`routerRtpCapabilities` | [RtpCapabilities](/documentation/v3/mediasoup/rtp-parameters-and-capabilities/#RtpCapabilities) | The mediasoup router RTP capabilities. | Yes |

</div>

> `@async`

<div markdown="1" class="note">
The router RTP capabilities are exposed via the [router.rtpCapabilities](/documentation/v3/mediasoup/api/#router-rtpCapabilities) getter. Check the [Communication Between Client and Server](/documentation/v3/communication-between-client-and-server/) section for more details.
</div>

```javascript
await device.load({ routerRtpCapabilities });
// Now the device is ready.
```

#### device.canProduce(kind)
{: #device-canProduce .code}

Whether the device can produce media of the given kind. This depends on the media codecs enabled in the mediasoup router and the media capabilities of the browser/device.

<div markdown="1" class="table-wrapper L3">

Argument  | Type    | Description | Required | Default 
--------- | ------- | ----------- | -------- | ----------
`kind`    | String  | "audio" or "video". | Yes |

</div>

> `@returns` Boolean
> 
> `@throws` InvalidStateError, if device not loaded
> 
> `@throws` TypeError, if invalid kind

```javascript
if (device.canProduce("video"))
{
  // Do getUserMedia() and produce video.
}
```

#### device.createSendTransport(options)
{: #device-createSendTransport .code}

Creates a new WebRTC transport to **send** media. The transport must be previously created in the mediasoup router via [router.createWebRtcTransport()](/documentation/v3/mediasoup/api/#router-createWebRtcTransport).

<div markdown="1" class="table-wrapper L3">

Argument    | Type    | Description | Required | Default 
----------- | ------- | ----------- | -------- | ----------
`options`   | [TransportOptions](#TransportOptions) | WebRTC transport options. | Yes |

</div>

> `@async`
> 
> `@returns` [Transport](#Transport)

```javascript
const transport = await device.createSendTransport(
  {
    id             : "0b38d662-ea00-4c70-9ae3-b675d6a89e09",
    iceParameters  : { ... },
    iceCandidates  : [ ... ],
    dtlsParameters : { ... }
  });
```

#### device.createRecvTransport(options)
{: #device-createRecvTransport .code}

Creates a new WebRTC transport to **receive** media. The transport must be previously created in the mediasoup router via [router.createWebRtcTransport()](/documentation/v3/mediasoup/api/#router-createWebRtcTransport).

<div markdown="1" class="table-wrapper L3">

Argument    | Type    | Description | Required | Default 
----------- | ------- | ----------- | -------- | ----------
`options`   | [TransportOptions](#TransportOptions) | WebRTC transport options. | Yes |

</div>

> `@async`
> 
> `@returns` [Transport](#Transport)

```javascript
const transport = await device.createRecvTransport(
  {
    id             : "152f60cd-10ac-443b-8529-6474ecba2e44",
    iceParameters  : { ... },
    iceCandidates  : [ ... ],
    dtlsParameters : { ... }
  });
```

</section>
